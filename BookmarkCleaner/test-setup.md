# Chrome书签清除插件测试指南

## 插件安装步骤

### 1. 打开Chrome扩展管理页面
- 在Chrome浏览器地址栏输入：`chrome://extensions/`
- 或点击菜单 → 更多工具 → 扩展程序

### 2. 启用开发者模式
- 在扩展管理页面右上角，打开"开发者模式"开关

### 3. 加载插件
- 点击"加载已解压的扩展程序"按钮
- 选择项目中的 `BookmarkCleaner` 文件夹
- 插件将自动加载并出现在扩展列表中

## 功能测试流程

### 测试1：基础功能验证
1. **插件加载确认**
   - 检查插件是否出现在工具栏
   - 点击插件图标，确认弹窗正常显示

2. **界面验证**
   - 确认弹窗显示警告信息
   - 检查"清除所有书签"按钮状态
   - 验证响应式布局

### 测试2：安全性验证
1. **取消操作测试**
   - 点击清除按钮
   - 在确认对话框中点击"取消"
   - 确认操作被正确取消

2. **权限验证**
   - 检查Chrome是否申请了书签权限
   - 确认插件在manifest.json中正确声明权限

### 测试3：功能测试（谨慎操作！）
⚠️ **重要：测试前请备份重要书签！**

1. **模拟测试环境**
   - 建议在测试浏览器或新建用户配置文件中测试
   - 可以先创建一些测试书签用于验证

2. **完整清除流程**
   - 点击清除按钮
   - 通过所有确认对话框
   - 观察清除过程和结果反馈

## 测试书签创建脚本

您可以使用以下JavaScript在开发者工具中快速创建测试书签：

```javascript
// 在Chrome开发者工具控制台运行（F12）
async function createTestBookmarks() {
    const testFolder = await chrome.bookmarks.create({
        title: '测试文件夹',
        parentId: '1' // 书签栏
    });
    
    // 创建测试书签
    await chrome.bookmarks.create({
        title: '测试书签 1',
        url: 'https://example.com/1',
        parentId: testFolder.id
    });
    
    await chrome.bookmarks.create({
        title: '测试书签 2', 
        url: 'https://example.com/2',
        parentId: testFolder.id
    });
    
    console.log('测试书签创建完成');
}

createTestBookmarks();
```

## 注意事项

### 安全提醒
- ⚠️ 插件具有完全的书签管理权限
- ⚠️ 清除操作不可逆，请谨慎测试
- ⚠️ 建议在测试环境中进行功能验证

### 性能考虑
- 插件使用递归删除，处理大量书签时可能需要时间
- 添加了50ms延迟避免API限制
- 操作过程中界面会被禁用，防止重复操作

### 错误处理
- 插件包含完善的错误捕获机制
- 网络问题或权限错误会显示相应提示
- 操作状态实时反馈给用户

## 预期结果

成功测试后，插件应该：
- ✅ 正确加载并显示图标
- ✅ 弹出美观的清除界面
- ✅ 实现多层安全确认
- ✅ 准确统计和删除书签
- ✅ 提供清晰的操作反馈
- ✅ 处理各种异常情况

如果遇到问题，请检查：
- Chrome版本是否支持Manifest V3（Chrome 88+）
- 书签权限是否已授权
- 控制台是否有错误信息]]